exports.ids=[8],exports.modules={125:function(e,t,r){"use strict";r.r(t);var o=r(56),n=r.n(o),l=r(3),h={name:"Register",data:()=>({result:"",message:{username:"",password:"",tel:""},user:{username:"",password:"",tel:""}}),head:()=>({title:"注册"}),beforeRouteEnter(e,t,r){r(e=>e.setData(t))},computed:{userStatus(){return this.$store.state.user}},watch:{userStatus(){setTimeout(()=>{this.userChange()},1e3)}},mounted(){this.$store.state.isMobile?this.$router.push("/"):this.userChange()},methods:{setData(e){this.routeFrom=e},register(){this.userStatus.isLogin?this.result="已登录，若要注册新账号，请先退出登录！":this.checkName(0)&&this.checkPassword()&&this.checkTel(0)?this.$store.dispatch("user/register",{...this.user,password:n()(this.user.password)}).then(data=>{this.result=data.msg,data.success&&(this.user={username:"",password:"",tel:""},setTimeout(()=>{this.result=""},2e3))}):this.result="输入信息有误"},checkName(e){return this.user.username?this.user.username.length>10?(this.message.username="昵称太长",!1):0===e?!this.message.username:void l.a.check(null,this.user.username).then(data=>{data.success?this.message.username="":this.message.username=data.msg}):(this.message.username="昵称不能为空",!1)},checkPassword(){return this.user.password.length>16||this.user.password.length<6?(this.message.password="密码由6-16个字符组成",!1):(this.message.password="",!0)},checkTel(e){return/^1\d{10}$/.test(this.user.tel)?0===e?!this.message.tel:(l.a.check(this.user.tel).then(data=>{data.success?this.message.tel="":this.message.tel="此电话用户已存在(；′⌒`)"}),this.message.tel="",!0):(this.message.tel="电话号码格式不对",!1)},hideResult(){this.result=""},keyup(e){13===e.keyCode&&this.register()},userChange(){if(this.userStatus.isLogin){let e=this.routeFrom&&this.routeFrom.fullPath||"/";"/login"!==e&&"/password"!==e||(e="/"),this.$router.push(e)}}}},d=r(2);var component=Object(d.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kwe-register",on:{click:e.hideResult}},[e._ssrNode('<p class="kwe-title"><span class="kwe-name">注册</span></p> <div class="kwe-result"'+e._ssrStyle(null,null,{display:e.result?"":"none"})+">"+e._ssrEscape(e._s(e.result))+'</div> <div class="kwe-register-module"><div class="kwe-register-group"><input type="text" autocomplete="off" placeholder="昵称"'+e._ssrAttr("value",e.user.username)+'> <span class="kwe-error">'+e._ssrEscape(e._s(e.message.username))+'</span></div> <div class="kwe-register-group"><input type="password" autocomplete="off" placeholder="密码（6-16个字符组成，区分大小写）"'+e._ssrAttr("value",e.user.password)+'> <span class="kwe-error">'+e._ssrEscape(e._s(e.message.password))+'</span></div> <div class="kwe-register-group"><input type="text" autocomplete="off" placeholder="手机号,用于登录"'+e._ssrAttr("value",e.user.tel)+'> <span class="kwe-error">'+e._ssrEscape(e._s(e.message.tel))+'</span></div></div> <div class="kwe-btn-register">注 册</div> '),e._ssrNode('<div class="kwe-to-login">',"</div>",[r("nuxt-link",{attrs:{to:"/login"}},[e._v("已有账号，直接登录>")])],1)],2)},[],!1,function(e){var t=r(88);t.__inject__&&t.__inject__(e)},null,"4853d66b");t.default=component.exports},65:function(e,t,r){var content=r(89);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var o=r(5).default;e.exports.__inject__=function(e){o("0a098110",content,!0,e)}},88:function(e,t,r){"use strict";r.r(t);var o=r(65),n=r.n(o);for(var l in o)"default"!==l&&function(e){r.d(t,e,function(){return o[e]})}(l);t.default=n.a},89:function(e,t,r){(e.exports=r(4)(!1)).push([e.i,".kwe-register{width:100%;padding-top:60px;font-size:14px;color:#606266}.kwe-register .kwe-result{position:absolute;top:90px;left:50%;width:95%;max-width:400px;text-align:center;line-height:50px;color:#f45d90;font-size:30px;transform:translateX(-50%);background:rgba(0,0,0,.4);box-shadow:0 0 2px 1px #f45d90;z-index:2;cursor:pointer}.kwe-register .kwe-title{width:100%;max-width:980px;height:28px;margin:28px auto;border-bottom:1px solid #ddd;text-align:center}.kwe-register .kwe-title .kwe-name{height:56px;line-height:56px;margin:0 auto;padding:0 20px;font-size:36px;background:#efefef;text-align:center}.kwe-register-module{width:100%;max-width:300px;margin:80px auto 0}.kwe-register-module .kwe-register-group{position:relative;overflow:hidden}.kwe-register-module .kwe-register-group .kwe-error{position:absolute;left:0;bottom:0;color:#f45d90;line-height:26px;font-size:12px;text-align:left}.kwe-register .kwe-btn-register,.kwe-register .kwe-to-login{width:100%;max-width:300px;margin:0 auto;line-height:2.5}.kwe-register .kwe-btn-register{text-align:center;border:1px solid #ccc;cursor:pointer}.kwe-register .kwe-btn-register:hover{color:#00a1d6;border-color:#00a1d6}.kwe-register .kwe-to-login{text-align:right;font-size:12px}.kwe-register .kwe-to-login a{color:#00a1d6}.kwe-register input{display:block;width:100%;line-height:36px;padding:0 4px;box-sizing:border-box;border:1px solid #ccc;outline:none;margin:0 auto 30px;background:transparent}",""])}};