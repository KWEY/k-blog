exports.ids=[6],exports.modules={123:function(e,t,r){"use strict";r.r(t);var o=r(56),n=r.n(o),l=r(3),d={name:"Login",data:()=>({routeFrom:null,result:"",message:{tel:"",password:""},user:{tel:"",password:""}}),computed:{userStatus(){return this.$store.state.user}},head:()=>({title:"登录"}),beforeRouteEnter(e,t,r){r(e=>e.setData(t))},watch:{userStatus(){setTimeout(()=>{this.userChange()},1e3)}},mounted(){this.$store.state.isMobile?this.$router.push("/"):this.userChange()},methods:{setData(e){this.routeFrom=e},login(){this.userStatus.isLogin?this.result="已登录，若要切换账号，请先退出登录！":this.checkTel(0)&&this.checkPassword()?this.$store.dispatch("user/login",{...this.user,password:n()(this.user.password)}).then(data=>{this.result=data.msg,data.success&&(this.user={password:"",tel:""},setTimeout(()=>{this.result=""},2e3))}):this.result="输入信息有误"},checkTel(e){return/^1\d{10}$/.test(this.user.tel)?0===e?!this.message.tel:void l.a.check(this.user.tel).then(data=>{data.success?this.message.tel="此电话用户不存在(；′⌒`)":this.message.tel=""}):(this.message.tel="电话号码格式不对",!1)},checkPassword(){return this.user.password.length>16||this.user.password.length<6?(this.message.password="密码由6-16个字符组成",!1):(this.message.password="",!0)},hideResult(){this.result=""},keyup(e){13===e.keyCode&&this.login()},userChange(){if(this.userStatus.isLogin){let e=this.routeFrom&&this.routeFrom.fullPath||"/";"/register"!==e&&"/password"!==e||(e="/"),this.$router.push(e)}}}},c=r(2);var component=Object(c.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kwe-login",on:{click:e.hideResult}},[e._ssrNode('<p class="kwe-title"><span class="kwe-name">登录</span></p> <div class="kwe-result"'+e._ssrStyle(null,null,{display:e.result?"":"none"})+">"+e._ssrEscape(e._s(e.result))+'</div> <div class="kwe-login-wrap"><div class="kwe-register-group"><input placeholder="手机号" autocomplete="off"'+e._ssrAttr("value",e.user.tel)+'> <span class="kwe-error">'+e._ssrEscape(e._s(e.message.tel))+'</span></div> <div class="kwe-register-group"><input type="password" placeholder="密码" autocomplete="off"'+e._ssrAttr("value",e.user.password)+'> <span class="kwe-error">'+e._ssrEscape(e._s(e.message.password))+"</span></div></div> <div"+e._ssrClass("kwe-btn-login",{"kwe-disabled":e.userStatus.isLogin})+">登 录</div> "),e._ssrNode('<div class="kwe-to-register">',"</div>",[r("nuxt-link",{attrs:{to:"/register"}},[e._v("没有账号，去注册>")])],1)],2)},[],!1,function(e){var t=r(84);t.__inject__&&t.__inject__(e)},null,"841f2896");t.default=component.exports},63:function(e,t,r){var content=r(85);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var o=r(5).default;e.exports.__inject__=function(e){o("ea775a30",content,!0,e)}},84:function(e,t,r){"use strict";r.r(t);var o=r(63),n=r.n(o);for(var l in o)"default"!==l&&function(e){r.d(t,e,function(){return o[e]})}(l);t.default=n.a},85:function(e,t,r){(e.exports=r(4)(!1)).push([e.i,".kwe-login{width:100%;padding-top:60px;font-size:14px;color:#606266}.kwe-login .kwe-title{width:100%;max-width:980px;height:28px;margin:28px auto;border-bottom:1px solid #ddd;text-align:center}.kwe-login .kwe-title .kwe-name{height:56px;line-height:56px;margin:0 auto;padding:0 20px;font-size:36px;background:#efefef;text-align:center}.kwe-login .kwe-result{position:absolute;top:90px;left:50%;width:95%;max-width:400px;text-align:center;line-height:50px;color:#f45d90;font-size:30px;transform:translateX(-50%);background:rgba(0,0,0,.4);box-shadow:0 0 2px 1px #f45d90;z-index:2;cursor:pointer}.kwe-login-wrap{width:100%;max-width:300px;margin:80px auto 0}.kwe-login-wrap .kwe-register-group{position:relative;overflow:hidden}.kwe-login-wrap .kwe-register-group .kwe-error{position:absolute;left:0;bottom:0;color:#f45d90;line-height:26px;font-size:12px;text-align:left}.kwe-login .kwe-btn-login,.kwe-login .kwe-to-register{max-width:300px;margin:0 auto;line-height:2.5}.kwe-login .kwe-btn-login{text-align:center;border:1px solid #ccc;cursor:pointer}.kwe-login .kwe-btn-login:hover{color:#00a1d6;border-color:#00a1d6}.kwe-login .kwe-btn-login.kwe-disabled{color:#ccc;cursor:not-allowed;border-color:#ccc}.kwe-login .kwe-to-register{text-align:right;font-size:12px}.kwe-login .kwe-to-register a{color:#00a1d6}.kwe-login input{display:block;width:100%;line-height:24px;padding:6px 4px;box-sizing:border-box;border:1px solid #ccc;outline:none;margin:0 auto 30px;background:transparent}",""])}};