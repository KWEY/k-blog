(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{203:function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}};t.exports=r},206:function(t,e,r){var n,o,l,c,h;n=r(207),o=r(203).utf8,l=r(109),c=r(203).bin,(h=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?c.stringToBytes(t):o.stringToBytes(t):l(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var r=n.bytesToWords(t),d=8*t.length,a=1732584193,b=-271733879,f=-1732584194,w=271733878,i=0;i<r.length;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8);r[d>>>5]|=128<<d%32,r[14+(d+64>>>9<<4)]=d;var m=h._ff,v=h._gg,k=h._hh,x=h._ii;for(i=0;i<r.length;i+=16){var y=a,_=b,T=f,dd=w;a=m(a,b,f,w,r[i+0],7,-680876936),w=m(w,a,b,f,r[i+1],12,-389564586),f=m(f,w,a,b,r[i+2],17,606105819),b=m(b,f,w,a,r[i+3],22,-1044525330),a=m(a,b,f,w,r[i+4],7,-176418897),w=m(w,a,b,f,r[i+5],12,1200080426),f=m(f,w,a,b,r[i+6],17,-1473231341),b=m(b,f,w,a,r[i+7],22,-45705983),a=m(a,b,f,w,r[i+8],7,1770035416),w=m(w,a,b,f,r[i+9],12,-1958414417),f=m(f,w,a,b,r[i+10],17,-42063),b=m(b,f,w,a,r[i+11],22,-1990404162),a=m(a,b,f,w,r[i+12],7,1804603682),w=m(w,a,b,f,r[i+13],12,-40341101),f=m(f,w,a,b,r[i+14],17,-1502002290),a=v(a,b=m(b,f,w,a,r[i+15],22,1236535329),f,w,r[i+1],5,-165796510),w=v(w,a,b,f,r[i+6],9,-1069501632),f=v(f,w,a,b,r[i+11],14,643717713),b=v(b,f,w,a,r[i+0],20,-373897302),a=v(a,b,f,w,r[i+5],5,-701558691),w=v(w,a,b,f,r[i+10],9,38016083),f=v(f,w,a,b,r[i+15],14,-660478335),b=v(b,f,w,a,r[i+4],20,-405537848),a=v(a,b,f,w,r[i+9],5,568446438),w=v(w,a,b,f,r[i+14],9,-1019803690),f=v(f,w,a,b,r[i+3],14,-187363961),b=v(b,f,w,a,r[i+8],20,1163531501),a=v(a,b,f,w,r[i+13],5,-1444681467),w=v(w,a,b,f,r[i+2],9,-51403784),f=v(f,w,a,b,r[i+7],14,1735328473),a=k(a,b=v(b,f,w,a,r[i+12],20,-1926607734),f,w,r[i+5],4,-378558),w=k(w,a,b,f,r[i+8],11,-2022574463),f=k(f,w,a,b,r[i+11],16,1839030562),b=k(b,f,w,a,r[i+14],23,-35309556),a=k(a,b,f,w,r[i+1],4,-1530992060),w=k(w,a,b,f,r[i+4],11,1272893353),f=k(f,w,a,b,r[i+7],16,-155497632),b=k(b,f,w,a,r[i+10],23,-1094730640),a=k(a,b,f,w,r[i+13],4,681279174),w=k(w,a,b,f,r[i+0],11,-358537222),f=k(f,w,a,b,r[i+3],16,-722521979),b=k(b,f,w,a,r[i+6],23,76029189),a=k(a,b,f,w,r[i+9],4,-640364487),w=k(w,a,b,f,r[i+12],11,-421815835),f=k(f,w,a,b,r[i+15],16,530742520),a=x(a,b=k(b,f,w,a,r[i+2],23,-995338651),f,w,r[i+0],6,-198630844),w=x(w,a,b,f,r[i+7],10,1126891415),f=x(f,w,a,b,r[i+14],15,-1416354905),b=x(b,f,w,a,r[i+5],21,-57434055),a=x(a,b,f,w,r[i+12],6,1700485571),w=x(w,a,b,f,r[i+3],10,-1894986606),f=x(f,w,a,b,r[i+10],15,-1051523),b=x(b,f,w,a,r[i+1],21,-2054922799),a=x(a,b,f,w,r[i+8],6,1873313359),w=x(w,a,b,f,r[i+15],10,-30611744),f=x(f,w,a,b,r[i+6],15,-1560198380),b=x(b,f,w,a,r[i+13],21,1309151649),a=x(a,b,f,w,r[i+4],6,-145523070),w=x(w,a,b,f,r[i+11],10,-1120210379),f=x(f,w,a,b,r[i+2],15,718787259),b=x(b,f,w,a,r[i+9],21,-343485551),a=a+y>>>0,b=b+_>>>0,f=f+T>>>0,w=w+dd>>>0}return n.endian([a,b,f,w])})._ff=function(a,b,t,e,r,s,n){var o=a+(b&t|~b&e)+(r>>>0)+n;return(o<<s|o>>>32-s)+b},h._gg=function(a,b,t,e,r,s,n){var o=a+(b&e|t&~e)+(r>>>0)+n;return(o<<s|o>>>32-s)+b},h._hh=function(a,b,t,e,r,s,n){var o=a+(b^t^e)+(r>>>0)+n;return(o<<s|o>>>32-s)+b},h._ii=function(a,b,t,e,r,s,n){var o=a+(t^(b|~e))+(r>>>0)+n;return(o<<s|o>>>32-s)+b},h._blocksize=16,h._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(h(t,e));return e&&e.asBytes?r:e&&e.asString?c.bytesToString(r):n.bytesToHex(r)}},207:function(t,e){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,b){return t<<b|t>>>32-b},rotr:function(t,b){return t<<32-b|t>>>b},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var i=0;i<t.length;i++)t[i]=n.endian(t[i]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,b=0;i<t.length;i++,b+=8)e[b>>>5]|=t[i]<<24-b%32;return e},wordsToBytes:function(t){for(var e=[],b=0;b<32*t.length;b+=8)e.push(t[b>>>5]>>>24-b%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var n=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?e.push(r.charAt(n>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,n=0;i<t.length;n=++i%4)0!=n&&e.push((r.indexOf(t.charAt(i-1))&Math.pow(2,-2*n+8)-1)<<2*n|r.indexOf(t.charAt(i))>>>6-2*n);return e}},t.exports=n},211:function(t,e,r){var content=r(233);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("ea775a30",content,!0,{sourceMap:!1})},232:function(t,e,r){"use strict";var n=r(211);r.n(n).a},233:function(t,e,r){(t.exports=r(15)(!1)).push([t.i,".kwe-login{width:100%;padding-top:60px;font-size:14px;color:#606266}.kwe-login .kwe-title{width:100%;max-width:980px;height:28px;margin:28px auto;border-bottom:1px solid #ddd;text-align:center}.kwe-login .kwe-title .kwe-name{height:56px;line-height:56px;margin:0 auto;padding:0 20px;font-size:36px;background:#efefef;text-align:center}.kwe-login .kwe-result{position:absolute;top:90px;left:50%;width:95%;max-width:400px;text-align:center;line-height:50px;color:#f45d90;font-size:30px;transform:translateX(-50%);background:rgba(0,0,0,.4);box-shadow:0 0 2px 1px #f45d90;z-index:2;cursor:pointer}.kwe-login-wrap{width:100%;max-width:300px;margin:80px auto 0}.kwe-login-wrap .kwe-register-group{position:relative;overflow:hidden}.kwe-login-wrap .kwe-register-group .kwe-error{position:absolute;left:0;bottom:0;color:#f45d90;line-height:26px;font-size:12px;text-align:left}.kwe-login .kwe-btn-login,.kwe-login .kwe-to-register{max-width:300px;margin:0 auto;line-height:2.5}.kwe-login .kwe-btn-login{text-align:center;border:1px solid #ccc;cursor:pointer}.kwe-login .kwe-btn-login:hover{color:#00a1d6;border-color:#00a1d6}.kwe-login .kwe-btn-login.kwe-disabled{color:#ccc;cursor:not-allowed;border-color:#ccc}.kwe-login .kwe-to-register{text-align:right;font-size:12px}.kwe-login .kwe-to-register a{color:#00a1d6}.kwe-login input{display:block;width:100%;line-height:24px;padding:6px 4px;box-sizing:border-box;border:1px solid #ccc;outline:none;margin:0 auto 30px;background:transparent}",""])},278:function(t,e,r){"use strict";r.r(e);var n=r(5),o=r(206),l=r.n(o),c=r(4),h={name:"Login",data:function(){return{routeFrom:null,result:"",message:{tel:"",password:""},user:{tel:"",password:""}}},computed:{userStatus:function(){return this.$store.state.user}},head:function(){return{title:"登录"}},beforeRouteEnter:function(t,e,r){r(function(t){return t.setData(e)})},watch:{userStatus:function(){var t=this;setTimeout(function(){t.userChange()},1e3)}},mounted:function(){this.$store.state.isMobile?this.$router.push("/"):this.userChange()},methods:{setData:function(t){this.routeFrom=t},login:function(){var t=this;this.userStatus.isLogin?this.result="已登录，若要切换账号，请先退出登录！":this.checkTel(0)&&this.checkPassword()?this.$store.dispatch("user/login",Object(n.a)({},this.user,{password:l()(this.user.password)})).then(function(data){t.result=data.msg,data.success&&(t.user={password:"",tel:""},setTimeout(function(){t.result=""},2e3))}):this.result="输入信息有误"},checkTel:function(t){var e=this;return/^1\d{10}$/.test(this.user.tel)?0===t?!this.message.tel:void c.a.check(this.user.tel).then(function(data){data.success?e.message.tel="此电话用户不存在(；′⌒`)":e.message.tel=""}):(this.message.tel="电话号码格式不对",!1)},checkPassword:function(){return this.user.password.length>16||this.user.password.length<6?(this.message.password="密码由6-16个字符组成",!1):(this.message.password="",!0)},hideResult:function(){this.result=""},keyup:function(t){13===t.keyCode&&this.login()},userChange:function(){if(this.userStatus.isLogin){var t=this.routeFrom&&this.routeFrom.fullPath||"/";"/register"!==t&&"/password"!==t||(t="/"),this.$router.push(t)}}}},d=(r(232),r(6)),component=Object(d.a)(h,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"kwe-login",on:{click:t.hideResult}},[t._m(0),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.result,expression:"result"}],staticClass:"kwe-result"},[t._v(t._s(t.result))]),t._v(" "),r("div",{staticClass:"kwe-login-wrap"},[r("div",{staticClass:"kwe-register-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.tel,expression:"user.tel",modifiers:{trim:!0}}],attrs:{placeholder:"手机号",autocomplete:"off"},domProps:{value:t.user.tel},on:{blur:[t.checkTel,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.user,"tel",e.target.value.trim())}}}),t._v(" "),r("span",{staticClass:"kwe-error"},[t._v(t._s(t.message.tel))])]),t._v(" "),r("div",{staticClass:"kwe-register-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.password,expression:"user.password",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"密码",autocomplete:"off"},domProps:{value:t.user.password},on:{blur:[t.checkPassword,function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyup(e)},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value.trim())}}}),t._v(" "),r("span",{staticClass:"kwe-error"},[t._v(t._s(t.message.password))])])]),t._v(" "),r("div",{staticClass:"kwe-btn-login",class:{"kwe-disabled":t.userStatus.isLogin},on:{click:function(e){return e.stopPropagation(),t.login(e)}}},[t._v("登 录")]),t._v(" "),r("div",{staticClass:"kwe-to-register"},[r("nuxt-link",{attrs:{to:"/register"}},[t._v("没有账号，去注册>")])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"kwe-title"},[e("span",{staticClass:"kwe-name"},[this._v("登录")])])}],!1,null,null,null);e.default=component.exports}}]);