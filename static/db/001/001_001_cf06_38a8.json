{
	"title": "Date对象 format",
	"id": "001_001_cf06_38a8",
	"time": "2018/12/16 下午2:19:50",
	"context": "<pre>var d = new Date();\nconsole.log(d); // 输出：Mon Nov 04 2013 21:50:33 GMT+0800 (中国标准时间)\nconsole.log(d.toDateString()); // 日期字符串，输出：Mon Nov 04 2013\nconsole.log(d.toGMTString()); // 格林威治时间，输出：Mon, 04 Nov 2013 14:03:05 GMT\nconsole.log(d.toISOString()); // 国际标准组织（ISO）格式，输出：2013-11-04T14:03:05.420Z\nconsole.log(d.toJSON()); // 输出：2013-11-04T14:03:05.420Z\nconsole.log(d.toLocaleDateString()); // 转换为本地日期格式，视环境而定，输出：2013年11月4日\nconsole.log(d.toLocaleString()); // 转换为本地日期和时间格式，视环境而定，输出：2013年11月4日 下午10:03:05\nconsole.log(d.toLocaleTimeString()); // 转换为本地时间格式，视环境而定，输出：下午10:03:05\nconsole.log(d.toString()); // 转换为字符串，输出：Mon Nov 04 2013 22:03:05 GMT+0800 (中国标准时间)\nconsole.log(d.toTimeString()); // 转换为时间字符串，输出：22:03:05 GMT+0800 (中国标准时间)\nconsole.log(d.toUTCString()); // 转换为世界时间，输出：Mon, 04 Nov 2013 14:03:05 GMT</pre><p><br></p><p>或者自定义</p><p><br></p><div><span>formatDate</span><span>(</span><span>date</span><span>:</span><span> </span><span>Date</span><span> </span><span>|</span><span> </span><span>null</span><span>, </span><span>format</span><span>?:</span><span> </span><span>string</span><span>)</span><span>:</span><span> </span><span>string</span><span> {</span></div><div><span></span>&nbsp; &nbsp;&nbsp;<span>const</span><span> </span><span>d</span><span> </span><span>=</span><span> </span><span>date</span><span> </span><span>||</span><span> </span><span>new</span><span> </span><span>Date</span><span>();</span></div><div><span></span>&nbsp; &nbsp;&nbsp;<span>let</span><span> </span><span>f</span><span> </span><span>=</span><span> </span><span>format</span><span> </span><span>||</span><span> </span><span>'yyyy-MM-dd mm:ss'</span><span>;</span></div><div><span></span>&nbsp; &nbsp;&nbsp;<span>const</span><span> </span><span>mapping</span><span> </span><span>=</span><span> {</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'M+'</span><span>:</span><span> </span><span>d</span><span>.getMonth</span><span>() </span><span>+</span><span> </span><span>1</span><span>,</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'d+'</span><span>:</span><span> </span><span>d</span><span>.getDate</span><span>(),</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'h+'</span><span>:</span><span> </span><span>d</span><span>.getHours</span><span>(),</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'m+'</span><span>:</span><span> </span><span>d</span><span>.getMinutes</span><span>(),</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'s+'</span><span>:</span><span> </span><span>d</span><span>.getSeconds</span><span>(),</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'q+'</span><span>:</span><span> </span><span>Math</span><span>.floor</span><span>((</span><span>d</span><span>.getMonth</span><span>() </span><span>+</span><span> </span><span>3</span><span>) </span><span>/</span><span> </span><span>3</span><span>),</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'S+'</span><span>:</span><span> </span><span>d</span><span>.getMilliseconds</span><span>(),</span></div><div>&nbsp; &nbsp;&nbsp;<span>};</span></div><div><span></span>&nbsp; &nbsp;&nbsp;<span>if</span><span> (</span><span>/(y</span><span>+</span><span>)/</span><span>i</span><span>.test</span><span>(</span><span>f</span><span>)) {</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>f</span><span> </span><span>=</span><span> </span><span>f</span><span>.replace</span><span>(</span><span>RegExp</span><span>.</span><span>$1</span><span>, </span><span>d</span><span>.getFullYear</span><span>()</span><span>.toString</span><span>()</span><span>.substr</span><span>(</span><span>4</span><span> </span><span>-</span><span> </span><span>RegExp</span><span>.</span><span>$1</span><span>.</span><span>length</span><span>));</span></div><div>&nbsp; &nbsp;&nbsp;<span>}</span></div><div><span></span>&nbsp; &nbsp;&nbsp;<span>for</span><span> (</span><span>const</span><span> </span><span>k</span><span> </span><span>in</span><span> </span><span>mapping</span><span>) {</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>if</span><span> (</span><span>new</span><span> </span><span>RegExp</span><span>(</span><span>`(${</span><span>k</span><span>})`</span><span>)</span><span>.test</span><span>(</span><span>f</span><span>)) {</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>const</span><span> </span><span>n</span><span> </span><span>=</span><span> </span><span>RegExp</span><span>.</span><span>$1</span><span>.</span><span>length</span><span> </span><span>===</span><span> </span><span>1</span><span> </span><span>?</span><span> </span><span>mapping</span><span>[</span><span>k</span><span>] </span><span>:</span><span> (</span><span>'00'</span><span> </span><span>+</span><span> </span><span>mapping</span><span>[</span><span>k</span><span>])</span><span>.substr</span><span>(</span><span>mapping</span><span>[</span><span>k</span><span>]</span><span>.toString</span><span>().</span><span>length</span><span>);</span></div><div><span></span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>f</span><span> </span><span>=</span><span> </span><span>f</span><span>.replace</span><span>(</span><span>RegExp</span><span>.</span><span>$1</span><span>, </span><span>n</span><span>);</span></div><div>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span></div><div>&nbsp; &nbsp;&nbsp;<span>}</span></div><div><span></span>&nbsp; &nbsp;&nbsp;<span>return</span><span> </span><span>f</span><span>;</span></div><div>&nbsp;}</div>"
}